<div class="theme-header" id="ui_header">
  <!-- mobile -->
  <div class="mobile_head">
    <h3 class="logo">
      <a href="./" target="_self">
        <img alt="로고" class="logo_img" src="./assets/img/logo-header.svg" />
      </a>

      <button class="menu_btn" type="button">
        <img alt="햄버거 아이콘" src="./assets/img/icon-hamburger.svg" />
      </button>
    </h3>

    <!-- lnb -->
    <div class="menu">
      <button class="close_btn" type="button">
        <img alt="닫기 아이콘" src="../assets/img/icon-close.svg" />
      </button>

      <ul class="menu_list">
        <li>
          <a href="./about/" class="link">회사 소개</a>
        </li>
        <li>
          <a href="./apply/" class="link">강사 지원</a>
        </li>
      </ul>
      <a href="#!" class="apply-btn"> 강사 지원하기 </a>
    </div>
  </div>

  <!-- pc -->
  <div class="pc_head">
    <div class="inner">
      <div class="logo">
        <a href="./" target="_self">
          <img
            alt="로고"
            class="logo_img"
            src="./assets/img/logo-header.svg"
          />
        </a>
      </div>

      <ul class="pc_menu">
        <li>
          <a href="./about/" class="link">회사 소개</a>
        </li>
        <li>
          <a href="./apply/" class="link">강사 지원</a>
        </li>
        <li>
          <a href="#!" class="apply-btn"> 강사 지원하기 </a>
        </li>
      </ul>
    </div>
  </div>
</div>

<script type="text/javascript">
  $(function () {
    const pathSegments = window.location.pathname.split("/").filter(Boolean);
    const currentPath = pathSegments.pop() || "";
    const editUrl = currentPath === "about" || currentPath === "apply" ? "../" : "./";
  
    // 공통 함수로 경로 처리
    function fixPaths(selector, attrName) {
      $(selector).each(function () {
        const original = $(this).attr(attrName);
        if (
          original &&
          (original.startsWith("./") || original.startsWith("../"))
        ) {
          // './' 또는 '../'를 제거하고 editUrl 붙이기
          const cleanedPath = original.replace(/^(\.\/|(\.\.\/)+)/, "");
          const newPath = editUrl + cleanedPath;
          $(this).attr(attrName, newPath);
        }
      });
    }

    $(".theme-header a.link").each(function () {
      const href = $(this).attr("href");
      if (!href) return;

      const hrefSegments = href.split("/").filter(Boolean);
      const hrefLast = hrefSegments.pop() || "";

      if (hrefLast === currentPath) {
        $(this).addClass("active");
      }
    });
  
    fixPaths(".theme-header img", "src");
    fixPaths(".theme-header a", "href");

    $(".menu_btn").click(function () {
      $(".menu").toggleClass("on");
    });

    $(".close_btn").click(function () {
      $(".menu").removeClass("on");
    });
  });
</script>
