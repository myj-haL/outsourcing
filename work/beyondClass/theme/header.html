<header class="theme-header" id="ui_header">
  <!-- mobile -->
  <div class="mobile_head">
    <h3 class="logo">
      <a href="../" target="_self"
        ><img alt="로고" src="./assets/img/sample-logo.svg"
      /></a>

      <button class="menu_btn" type="button">
        <img alt="햄버거 아이콘" src="./assets/img/icon-hamburger.svg" />
      </button>
    </h3>

    <div class="menu">
      <h3 class="logo">
        <a href="../" target="_self"
          ><img alt="로고" class="logo_img" src="./assets/img/sample-logo.svg"
        /></a>

        <button class="close_btn" type="button">
          <img alt="닫기 아이콘" src="./assets/img/icon-close.png" />
        </button>
      </h3>

      <ul class="menu_list">
        <li>
          <a href="./about/" class="link">회사 소개</a>
        </li>
        <li>
          <a href="./apply/" class="link">강사 지원</a>
        </li>
      </ul>
      <a href="#!" class="apply-btn"> 강사 지원하기 </a>
    </div>
  </div>

  <!-- pc -->
  <div class="pc_head">
    <div class="inner">
      <div class="logo">
        <a href="../" target="_self">
          <img alt="로고" class="logo_img" src="./assets/img/sample-logo.svg" />
        </a>
      </div>

      <ul class="pc_menu">
        <li>
          <a href="./about/" class="link">회사 소개</a>
        </li>
        <li>
          <a href="./apply/" class="link">강사 지원</a>
        </li>
        <li>
          <a href="#!" class="apply-btn"> 강사 지원하기 </a>
        </li>
      </ul>
    </div>
  </div>
</header>

<script type="text/javascript">
  $(function () {
    const pathSegments = window.location.pathname.split("/").filter(Boolean);
    const currentPath = pathSegments.pop() || "";
    const editUrl =
      currentPath === "about" || currentPath === "apply" ? "../" : "./";

    console.log("editUrl:", editUrl);

    // 공통 함수로 경로 처리
    function fixPaths(selector, attrName) {
      $(selector).each(function () {
        const original = $(this).attr(attrName);
        if (
          original &&
          (original.startsWith("./") || original.startsWith("../"))
        ) {
          // './' 또는 '../'를 제거하고 editUrl 붙이기
          const cleanedPath = original.replace(/^(\.\/|(\.\.\/)+)/, "");
          const newPath = editUrl + cleanedPath;
          $(this).attr(attrName, newPath);
        }
      });
    }

    // 헤더 내부 img, a 처리
    fixPaths(".theme-header img", "src");
    fixPaths(".theme-header a", "href");

    $(".menu_btn").click(function () {
      $(".menu").toggleClass("on");
    });

    $(".close_btn").click(function () {
      $(".menu").removeClass("on");
    });
  });
</script>
