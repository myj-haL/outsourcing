<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta content="width=device-width, initial-scale=1" name="viewport">
  <title>컴플랜컴퍼니</title>
  <link as="style" crossorigin
        href="https://cdn.jsdelivr.net/gh/orioncactus/pretendard@v1.3.6/dist/web/variable/pretendardvariable-dynamic-subset.css"
        rel="stylesheet"/>
  <link rel="stylesheet"
        href="https://fonts.googleapis.com/css?family=Tangerine">
  <link href="../../../css/reset.css" rel="stylesheet" type="text/css"/>
  <link href="../../../css/home.css" rel="stylesheet" type="text/css"/>
  <link href="../../../css/common.css" rel="stylesheet" type="text/css"/>
  <link rel="stylesheet" href="../../../css/contact/contact.css">
  <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
  
  <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
  <script src="../../../js/imagesloaded.pkgd.js"type="text/javascript"></script>
  <script src="../../../js/include.js" type="text/javascript"></script>
  <script src="../../../js/jquery.min.js" type="text/javascript"></script>
  <script src="../../../js/loader.js" type="text/javascript"></script>
</head>
<body class="background hide-scrollbar">
<header id="header" class="header"></header>
<div class="content hide-scrollbar">
  <main class="hide-scrollbar contact-container"> 
    <div class="inner">
      <div class="title-box" data-aos="fade-right" data-aos-duration="1500">
        <span>Contact us</span>
        <h3 class="title">당신의 브랜드는<br/>성장할 준비가 되어있나요?</h3>
      </div>
      <div class="form-wrap">
        <span>
          문의주시면 <p>신속하고 정확하게 답변</p> 드리겠습니다.<br/>
          전문가의 분석 및 상담을 통해 <p>최적화된 전략을 제안</p>해 드립니다.
        </span>

        <form id="contact-form" class="contact-form">
          <div class="field-group">
            <div class="field">
              <label for="writer">작성자</label>
              <input type="text" id="writer" name="writer" placeholder="이름" required>
            </div>
            <div class="field">
              <label for="organization">소속</label>
              <input type="text" id="organization" name="organization"
                     placeholder="회사명 및 소속명" required>
            </div>
          </div>
          <div class="field-group">
            <div class="field">
              <label for="phone">연락처</label>
              <input type="tel" id="phone" name="phone" placeholder="010 0000 0000">
            </div>
            <div class="field">
              <label for="email">이메일</label>
              <input type="email" id="email" name="email" placeholder="example@complan.co.kr"
              required>
            </div>
          </div>
          <div class="inquiry-field-group">
            <label for="">문의내용과 관련된 키워드를 선택해 주세요.</label>
            <div class="keyword">
              <div class="radio-wrapper">
                <input type="radio" id="keyword-it" name="keyword" value="IT 솔루션" checked>
                <label for="keyword-it">IT 솔루션</label>
              </div>
              <div class="radio-wrapper">
                <input type="radio" id="keyword-sns" name="keyword" value="SNS 마케팅">
                <label for="keyword-sns">SNS 마케팅</label>
              </div>
              <div class="radio-wrapper">
                <input type="radio" id="keyword-content" name="keyword" value="콘텐츠 마케팅"
                      >
                <label for="keyword-content">콘텐츠 마케팅</label>
              </div>
              <div class="radio-wrapper">
                <input type="radio" id="keyword-viral" name="keyword" value="바이럴 마케팅">
                <label for="keyword-viral">바이럴 마케팅</label>
              </div>
              <div class="radio-wrapper">
                <input type="radio" id="keyword-etc" name="keyword" value="기타">
                <label for="keyword-etc">기타</label>
              </div>
            </div>
            <div class="field">
              <label for="message" style="display: none">문의 내용</label>
              <textarea id="message" name="message" placeholder="문의 내용을 입력하세요" required></textarea>
            </div>
            <div class="check-field">
              <input type="checkbox" id="agree" name="agree">
              <label for="agree">
                <img src="../../../assets/images/icons/unchecked.png" alt="" class="checker"/>
                개인정보수집 및 이용에 동의
              </label>
            </div>
          </div>
          <button type="submit" class="contact-submit">
            제출하기
          </button>
        </form>

      </div>
    </div>
    <div class="cs-form">
      <div class="cs-inner">
        <div class="cs-list">
          <div class="cs-item">
            <h3>이메일문의</h3>
            <div class="bottom-info">
              <p>info@complan.co.kr</p>
              <a href="mailto:info@complan.co.kr" target="_blank" id="contact-email">
                이메일 복사 하기
              </a>
            </div>
            <img alt="arrow" src="../../../assets/images/icons/icon-blank-arrow.svg" />
          </div>
          <div class="cs-item">
            <h3>전화 문의</h3>
            <div class="bottom-info">
              <p>02-6243-0228</p>
              <a href="tel:0262430228" target="_blank">
                전화 상담 하기
              </a>
            </div>
            <img alt="arrow" src="../../../assets/images/icons/icon-blank-arrow.svg" />
          </div>
          <div class="cs-item">
            <h3>카카오톡 문의</h3>
            <div class="bottom-info">
              <p>@컴플랜컴퍼니</p>
              <a href="https://pf.kakao.com/_WydEn" target="_blank">
                카카오톡 상담 신청
              </a>
            </div>
            <img alt="arrow" src="../../../assets/images/icons/icon-blank-arrow.svg" />
          </div>
        </div>
      </div>
    </div>
  </main>
</div>
<footer id="footer" class="footer"></footer>

<script type="text/javascript"
  src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js">
</script>
<script>
  AOS.init({
    once: true
  });


  $('.contact-form #agree').on('click', function () {
    const isChecked = $(this).is(':checked');

    if (isChecked) {
      $('.checker').attr('src', '../../../assets/images/icons/checked.png');
    } else {
      $('.checker').attr('src', '../../../assets/images/icons/unchecked.png');
    }
  });

  emailjs.init({
    publicKey: 'DQJG8MixTimJe0jFi',
  });

  const contactForm = $('#contact-form');

  contactForm.on('submit', function (event) {
    event.preventDefault();

    const keywordCheck = $('input[name="keyword"]:checked').val();
    const agreeCheck = $('#agree').is(':checked');
    const phoneNumberCheck = $('#phone').val().trim(); // 입력값 가져오기
    const phoneRegex = /^01[016789][0-9]{8}$/;

    if (!phoneRegex.test(phoneNumberCheck)) {
      alert('올바른 전화번호를 입력하세요.');
      return false; // 유효성 검사 실패 시 폼 제출 중지
    }

    if (!keywordCheck) {
        alert('문의 내용과 관련된 키워드를 선택해 주세요.');
        return false;
    }

    if (!agreeCheck) {
        alert('개인정보 수집 및 이용에 동의해야 합니다.');
        return false;
    }

    const emailTemplate = {
      name: $('#writer').val(),
      company: $('#organization').val(),
      phoneNumber: $('#phone').val(),
      email: $('#email').val(),
      keyword: $('input[name="keyword"]:checked').val(),
      inquiry: $('#message').val(),
    };

    emailjs.send('service_9g6wt4d', 'template_gy6qhb8', emailTemplate)
      .then(function() {
        contactForm.trigger('reset');
        alert('문의 내용이 성공적으로 전송되었습니다.');
      }, function () {
        alert('문의 내용 전송에 실패했습니다. 다시 시도해주세요.');
      });
  });

  const contactEmailButton = $('#contact-email');
  contactEmailButton.on('click', function (event) {
    event.preventDefault();

    navigator.clipboard.writeText('info@complan.co.kr')
      .then(() => { alert('이메일 주소가 복사되었습니다.'); })
  });
</script>
</body>
</html>